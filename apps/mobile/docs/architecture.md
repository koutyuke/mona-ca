# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

mona-ca Mobile Frontendã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’èª¬æ˜ã™ã‚‹ã€‚

> ğŸ“– **é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
>
> - [README](./README.md) - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç›®æ¬¡
> - [å®Ÿè£…ã‚¬ã‚¤ãƒ‰](./guides.md) - å®Ÿè£…è¦ç´„ã¨ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
> - [å‚è€ƒè³‡æ–™](./references.md) - è£œè¶³æƒ…å ±ã¨å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

## ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [Feature-Sliced Design (FSD)](#feature-sliced-design-fsd)
- [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ)
- [ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ä¾å­˜é–¢ä¿‚](#ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ä¾å­˜é–¢ä¿‚)
- [å…¬é–‹APIè¨­è¨ˆ](#å…¬é–‹apiè¨­è¨ˆ)

## æ¦‚è¦

mona-ca Mobile Frontendã¯ã€Feature-Sliced Design (FSD)ã¨Presenter/Container Patternã‚’çµ„ã¿åˆã‚ã›ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã§ä¿å®ˆæ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### è¨­è¨ˆåŸå‰‡

- **Feature-Sliced Design**: æ©Ÿèƒ½ã”ã¨ã«ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã—ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«ã™ã‚‹
- **Presenter/Container Pattern**: UIã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã€ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã‚‹
- **Composition over Inheritance**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆæˆã«ã‚ˆã‚ŠæŸ”è»Ÿæ€§ã‚’é«˜ã‚ã‚‹
- **UI Packageåˆ©ç”¨**: å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯`@mona-ca/ui`ã‹ã‚‰åˆ©ç”¨ã—ã€å†åˆ©ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹
- **é–‹ç™ºä½“é¨“ã®æœ€é©åŒ–**: Storybookã¨Testã§Presenterã‚’ç›´æ¥æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

### è¨­è¨ˆç›®æ¨™

- Feature-Sliced Designï¼ˆFSDï¼‰ã¨ Presenter/Containerï¼ˆP/Cï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’**çŸ›ç›¾ãªãä½µç”¨**ã™ã‚‹
- Storybook/Testã§ã¯ Presenterã‚’ç›´æ¥è§¦ã‚Œã¦é–‹ç™ºä½“é¨“ã‚’è‰¯ãã™ã‚‹
- åˆ©ç”¨è€…ãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ã‚’çŸ¥ã‚‰ãªãã¦ã‚‚ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ã™ã‚‹

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ç”¨é€” |
|---------|------|------|
| Runtime | Bun | JavaScript/TypeScriptãƒ©ãƒ³ã‚¿ã‚¤ãƒ  |
| Framework | React Native + Expo | ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| UI Library | @mona-ca/ui | å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| Styling | NativeWind (TailwindCSS) | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ |
| Navigation | Expo Router | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° |
| State Management | React Hooks | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç† |
| Data Fetching | @mona-ca/eden-fetch | å‹å®‰å…¨ãªAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| Testing | Jest + React Native Testing Library | ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| Linter/Formatter | Biome | ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç† |

## Feature-Sliced Design (FSD)

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 

FSDã§ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»¥ä¸‹ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«åˆ†å‰²ã™ã‚‹ã€‚

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            App Layer                â”‚  app/ (framework routing)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Pages Layer               â”‚  layers/pages/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Widgets Layer              â”‚  layers/widgets/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Features Layer              â”‚  layers/features/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Entities Layer              â”‚  layers/entities/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Shared Layer               â”‚  layers/shared/
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™

#### 1. App Layer (`app/`)

- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆExpo Routerï¼‰
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š

**ãƒ«ãƒ¼ãƒ«**:

- FSDã®`app`ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨Expo Routerã®`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç«¶åˆã™ã‚‹ãŸã‚ã€FSDå®Ÿè£…ã¯`layers/`é…ä¸‹ã«é…ç½®
- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`_layout.tsx`, `index.tsx`ç­‰ï¼‰ã®ã¿ã‚’å«ã‚€

#### 2. Pages Layer (`layers/pages/`)

- ãƒšãƒ¼ã‚¸å…¨ä½“ã®æ§‹æˆ
- è¤‡æ•°ã®Widgetã®çµ„ã¿åˆã‚ã›
- ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

**ãƒ«ãƒ¼ãƒ«**:

- åŸºæœ¬çš„ã«Containerã‚’å…¬é–‹
- ãƒšãƒ¼ã‚¸ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ç´ä»˜ãå˜ä½
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯å«ã¾ãšã€Widgets/Featuresã‚’çµ„ã¿åˆã‚ã›ã‚‹ã®ã¿

#### 3. Widgets Layer (`layers/widgets/`)

- å¤§ããªUIãƒ–ãƒ­ãƒƒã‚¯ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ã‚«ãƒ¼ãƒ‰ç­‰ï¼‰
- è¤‡æ•°ã®Featuresã‚„Entitiesã‚’çµ„ã¿åˆã‚ã›
- ç‰¹å®šã®ãƒ“ã‚¸ãƒã‚¹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æŒã¤

**ãƒ«ãƒ¼ãƒ«**:

- åŸºæœ¬çš„ã«Containerã‚’å…¬é–‹
- Presenterã¯Storybook/Testç”¨ã«é–‹ç™ºæ™‚ç”¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å‚ç…§
- ä»–ã®Widgetã«ã¯ä¾å­˜ã—ãªã„

#### 4. Features Layer (`layers/features/`)

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€ã„ã„ã­ã€ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ç­‰ï¼‰
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚€
- å‰¯ä½œç”¨ï¼ˆAPIå‘¼ã³å‡ºã—ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰ã‚’æŒã¤

**ãƒ«ãƒ¼ãƒ«**:

- åŸºæœ¬çš„ã«Containerã‚’å…¬é–‹
- Presenterã¯Storybook/Testç”¨ã«é–‹ç™ºæ™‚ç”¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å‚ç…§
- ä»–ã®Featureã«ã¯ä¾å­˜ã—ãªã„

#### 5. Entities Layer (`layers/entities/`)

- ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®UIè¡¨ç¾ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰ã€å•†å“ã‚«ãƒ¼ãƒ‰ç­‰ï¼‰
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯
- å‰¯ä½œç”¨ã‚’æŒãŸãªã„

**ãƒ«ãƒ¼ãƒ«**:

- **Presenterã®ã¿å…¬é–‹**ï¼ˆContainerã¯ç½®ã‹ãªã„ï¼‰
- ç´”ç²‹ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- APIå‘¼ã³å‡ºã—ã‚„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å«ã¾ãªã„

#### 6. Shared Layer (`layers/shared/`)

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä½¿ç”¨ã™ã‚‹å…±é€šãƒªã‚½ãƒ¼ã‚¹
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€APIã€å‹å®šç¾©ç­‰

**Segments**:

- `shared/ui/` - **`@mona-ca/ui`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**
- `shared/api/` - APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€å‹å®šç¾©
- `shared/lib/` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- `shared/config/` - å®šæ•°ã€ç’°å¢ƒå¤‰æ•°
- `shared/types/` - å…±é€šå‹å®šç¾©

**ãƒ«ãƒ¼ãƒ«**:

- **`shared/ui/`**: åŸºæœ¬çš„ã«`@mona-ca/ui`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **Presenterã®ã¿å…¬é–‹**ï¼ˆContainerã¯ç½®ã‹ãªã„ï¼‰
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã¾ãªã„

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

### å…¨ä½“æ§‹æˆ

```text
apps/mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆExpo Routerï¼‰
â”‚   â”‚   â”œâ”€â”€ _layout.tsx           # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ index.tsx             # ãƒ›ãƒ¼ãƒ ç”»é¢
â”‚   â”‚   â””â”€â”€ ...                   # ãã®ä»–ã®ãƒ«ãƒ¼ãƒˆ
â”‚   â”‚
â”‚   â””â”€â”€ layers/                   # FSDãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚       â”œâ”€â”€ app/                  # ã‚¢ãƒ—ãƒªåˆæœŸåŒ–å±¤
â”‚       â”‚   â”œâ”€â”€ providers/        # ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚       â”‚   â””â”€â”€ config/           # ã‚¢ãƒ—ãƒªè¨­å®š
â”‚       â”‚
â”‚       â”œâ”€â”€ pages/                # ãƒšãƒ¼ã‚¸å±¤
â”‚       â”‚   â””â”€â”€ [page-name]/      # å„ãƒšãƒ¼ã‚¸
â”‚       â”‚       â”œâ”€â”€ ui/
â”‚       â”‚       â”œâ”€â”€ model/
â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ widgets/              # ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå±¤
â”‚       â”‚   â””â”€â”€ [widget-name]/    # å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚       â”‚       â”œâ”€â”€ ui/
â”‚       â”‚       â”œâ”€â”€ model/
â”‚       â”‚       â”œâ”€â”€ lib/
â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ features/             # ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼å±¤
â”‚       â”‚   â””â”€â”€ [feature-name]/   # å„ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼
â”‚       â”‚       â”œâ”€â”€ ui/
â”‚       â”‚       â”œâ”€â”€ model/
â”‚       â”‚       â”œâ”€â”€ api/
â”‚       â”‚       â”œâ”€â”€ lib/
â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ entities/             # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å±¤
â”‚       â”‚   â””â”€â”€ [entity-name]/    # å„ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚       â”‚       â”œâ”€â”€ ui/
â”‚       â”‚       â”œâ”€â”€ model/
â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â”‚
â”‚       â””â”€â”€ shared/               # å…±æœ‰å±¤
â”‚           â”œâ”€â”€ ui/               # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ@mona-ca/uiå†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
â”‚           â”‚   â””â”€â”€ index.ts
â”‚           â”œâ”€â”€ api/              # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚           â”‚   â””â”€â”€ index.ts
â”‚           â”œâ”€â”€ lib/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚           â”œâ”€â”€ config/           # è¨­å®šãƒ»å®šæ•°
â”‚           â””â”€â”€ types/            # å‹å®šç¾©
â”‚
â”œâ”€â”€ assets/                       # é™çš„ã‚¢ã‚»ãƒƒãƒˆ
â”œâ”€â”€ types/                        # ã‚°ãƒ­ãƒ¼ãƒãƒ«å‹å®šç¾©
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ app.json                      # Expoè¨­å®š
```

### Sliceæ§‹é€ ã®è©³ç´°

Sliceã¯`pages/`, `widgets/`, `features/`, `entities/`é…ä¸‹ã®å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‚

```text
[layer]/[slice-name]/
â”œâ”€â”€ ui/                           # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ [component].tsx           # Containerï¼ˆå…¬é–‹ç”¨ï¼‰
â”‚   â”œâ”€â”€ [component].ui.tsx        # Presenter
â”‚   â”œâ”€â”€ [component].dev.ts        # é–‹ç™ºæ™‚ç”¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â””â”€â”€ [component].stories.tsx   # Storybook
â”œâ”€â”€ model/                        # çŠ¶æ…‹ç®¡ç†ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ hooks/                    # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ types.ts                  # å‹å®šç¾©
â”‚   â””â”€â”€ utils.ts                  # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ api/                          # APIé€šä¿¡ï¼ˆfeatures/pages/widgetsã®ã¿ï¼‰
â”‚   â””â”€â”€ [api-name].ts
â”œâ”€â”€ lib/                          # ã‚¹ãƒ©ã‚¤ã‚¹å›ºæœ‰ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼
â””â”€â”€ index.ts                      # ã‚¹ãƒ©ã‚¤ã‚¹å…¬é–‹API
```

### Shared Layerè©³ç´°

#### `shared/ui/` - UIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```text
shared/ui/
â””â”€â”€ index.ts                      # @mona-ca/uiã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```

```typescript
// shared/ui/index.ts
export * from "@mona-ca/ui";

// ãƒ¢ãƒã‚¤ãƒ«å›ºæœ‰ã®æ‹¡å¼µãŒã‚ã‚Œã°ã“ã“ã«è¿½åŠ 
export * from "./mobile-specific-component";
```

#### ãã®ä»–ã®Shared Segments

```text
shared/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ client.ts                 # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ date/
â”‚   â”œâ”€â”€ string/
â”‚   â””â”€â”€ validation/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ constants.ts
â”‚   â””â”€â”€ env.ts
â””â”€â”€ types/
    â””â”€â”€ common.ts
```

## ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ä¾å­˜é–¢ä¿‚

### ä¾å­˜é–¢ä¿‚ã®æ–¹å‘

```text
app â†’ pages â†’ widgets â†’ features â†’ entities â†’ shared
```

**é‡è¦ãªåŸå‰‡**:

- **ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ä¸‹ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ã«ä¾å­˜**
- **ä¸‹ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ä¾å­˜ã—ã¦ã¯ã„ã‘ãªã„**
- **åŒä¸€ãƒ¬ã‚¤ãƒ¤ãƒ¼å†…ã®Sliceé–“ã¯ä¾å­˜ã—ã¦ã¯ã„ã‘ãªã„**ï¼ˆç‰¹ã«`features/`ã¨`entities/`ï¼‰

### ä¾å­˜é–¢ä¿‚ã®å…·ä½“ä¾‹

| From | To | å¯å¦ |
|------|----|----|
| pages | widgets, features, entities, shared | âœ… |
| widgets | features, entities, shared | âœ… |
| widgets | widgets | âŒ |
| features | entities, shared | âœ… |
| features | features | âŒ |
| entities | shared | âœ… |
| entities | entities | âŒ |
| shared | shared | âœ…ï¼ˆåŒä¸€ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå†…ã®ã¿ï¼‰ |

### UIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚

```text
@mona-ca/ui (å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)
    â†‘
shared/ui (å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ)
    â†‘
entities/features/widgets/pages (åˆ©ç”¨)
```

**ãƒ«ãƒ¼ãƒ«**:

- `@mona-ca/ui`ã¯monorepoã®`packages/ui`ã§ç®¡ç†ã•ã‚Œã‚‹å…±é€šUIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã¯`shared/ui`ã‚’é€šã˜ã¦`@mona-ca/ui`ã‚’åˆ©ç”¨
- ç›´æ¥`@mona-ca/ui`ã‚’importã›ãšã€å¿…ãš`shared/ui`çµŒç”±ã§import

## å…¬é–‹APIè¨­è¨ˆ

### Public API (`index.ts`)

FSDã§ã¯ã€å„Slice/SegmentãŒ`index.ts`ã‚’é€šã˜ã¦å…¬é–‹APIã‚’å®šç¾©ã™ã‚‹ã€‚

**åŸå‰‡**:

- `layers/`é…ä¸‹ã§ã¯**default exportã¯ç¦æ­¢**ã€å…¨ã¦**named export**ã§å…¬é–‹
- åå‰ç©ºé–“ãŒãã¡ã‚ƒãã¡ã‚ƒã«ãªã‚‰ãªã„ã‚ˆã†ã«æ•´ç†ã™ã‚‹

### ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã®å ´æ‰€

#### `shared/ui` ã¨ `shared/lib`

- å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç›´ä¸‹ã«`index.ts`ã‚’ç½®ã
- ä¾‹: `shared/ui/index.ts`

#### `shared/ui` ã¨ `shared/lib` ä»¥å¤–ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æŒãŸãªã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ (`shared`, `app`)

- å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ (`ui`, `model`, `lib`) ç›´ä¸‹ã«`index.ts`ã‚’ç½®ã
- ä¾‹: `shared/api/index.ts`

#### ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æŒã¤ãƒ¬ã‚¤ãƒ¤ãƒ¼ (`entities/*`, `features/*`, `widgets/*`, `pages/*`)

- **ã‚¹ãƒ©ã‚¤ã‚¹ç›´ä¸‹**ã«ã ã‘`index.ts`ã‚’ç½®ã
- `ui/`, `model/`, `lib/`ãªã©ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç›´ä¸‹ã«è¿½åŠ ã®`index.ts`ã¯ä½œã‚‰ãªã„
- ä¾‹: `features/auth/index.ts`

### å…¬é–‹APIã®ä¾‹

```typescript
// features/auth/index.ts

// Containerï¼ˆãƒ¡ã‚¤ãƒ³å…¬é–‹APIï¼‰
export { LoginForm } from "./ui/login-form";
export { SignupForm } from "./ui/signup-form";

// Hooks
export { useAuth } from "./model/hooks/use-auth";

// Types
export type { AuthState, LoginInput } from "./model/types";

// é–‹ç™ºæ™‚ç”¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆStorybook/Testç”¨ï¼‰
export { __DEV_LoginForm } from "./ui/login-form.dev";
```

### Importè¦ç´„

```typescript
// âœ… æ­£ã—ã„importï¼ˆPublic APIçµŒç”±ï¼‰
import { Button } from "@/layers/shared/ui";
import { LoginForm } from "@/layers/features/auth";

// âŒ é–“é•ã£ãŸimportï¼ˆå†…éƒ¨å®Ÿè£…ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
import { Button } from "@/layers/shared/ui/button/button";
import { LoginForm } from "@/layers/features/auth/ui/login-form";

// âŒ é–“é•ã£ãŸimportï¼ˆ@mona-ca/uiã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
import { Button } from "@mona-ca/ui";
```
